language: groovy
rvm:
- 1.8.8
install:
- gradle build
before_script:
- gradle test
- export PLUGIN_VERSION=${TRAVIS_COMMIT:0:7}
script:
- gradle -PpluginVersion=${PLUGIN_VERSION}
jdk:
- oraclejdk9
notifications:
  slack:
    secure: DTjJVWPKEe7K9ZT4dJNSTxv/tONuxwE6Xijbyc2VjPiYb1tWOqwGwxosRWp2wcjNcBCjbQLBlZs3V3a3XPOxpzyMbqN3MWjXQ9vPiBC1JqM2go5j4Rpjt0mlkvU2s4IV9DZCKONLuvjdhn+0dWjPF3U6jId2rCdNRNOE7YchoP60yvzLyTYmam9J3nHLQTpq38CZv9HiGy3K6AVzSye/cTiKDaD2hIA/0sOrzK6J4dIM8Ca24XBw/cjshDoFsWEu+W+i00NycrS78Lss0dTK6S/y6irxYwrH0nRzNwr97zlB1X5WkE3oCuhOQwHRd5YrMLU/I1hbEgM0THkqXz2STmXbOljJ0aSRAGJ0ols4kFIR25uPKisFoJoIkLSJWQs4QEuHWNcIHrz4RgFFGccL6n5DdllWOO2MBlQCKOZRvuq6OCWcfupYS/cGbs4x1eOOoYOAVCQBMJKAjfz84i3j3VbroqVFO2OhFEOSmDQWzUIS20qqKZbOcy5I/qre54ZwY5KzKatX0QlY5sI/16Jm5+5gjXAsFWnp4d89qTya5I43NYF0Yw+S+MkBqFVqmk+chbyEll6wzS5G6kcTBnw5wjXXcFAgTwb9LcXKKpLJM66/0c7pID/EyfiBZvlGppX5TFJeLVbxKdG7CCLxn5w7X9RKa6i3dmAeqn6SxrYKQjY=
    on_success: change
    on_failure: change
  email: false
before_deploy:
     # Set up git user name and tag this commit
     - git config --local user.name "deepaannjohn"
     - git config --local user.email "deepa.ann.john1@gmail.com"
     - export TRAVIS_TAG=${TRAVIS_TAG:-$(date +'%Y%m%d%H%M%S')-$(git log --format=%h -1)}
     - git tag $TRAVIS_TAG
deploy:
  provider: releases
  api_key:
    secure: EaLoBomZ9lW3nYYxzg6oHU7yXHKgoOWhaNLNkwUYv1jzfrAk9Bid3thoXDfSwzbo8+b1zSr19ZRmWB9pqf0XkP4khszMl9IOsCjYjPK1BrEJ5yDywRH29vh20/Uk7rTZ/kyHWrJ32JFb+MB9zmVElQ3HOoFpKwR80lAs7p8CdZ6qK2PsVhfAE3FiP7xEtWRlzqViRqOLNuslQS4erPkKsPWo4etf12nCg50GWccx1ZhP/oa58YhgVAt62nahoEwJXUPGRicgOR2TYhdfrmCRflXTjmGOCPIKkNewF/8ykXZlW0U9jTi7Cu0xZA/XseGyjQqNEd9kFll+xHDNHE1QoA6yXZh3ltCA4ZkA+XSa6nbv7u7wNi2xtbp1l34EtULcJJTgmptlIczFfM/qIyDdC8WTLU8OAOZ5UAXsjRA5+Y/tCoNh+MFu+MH6M7fJVeGV/kf9hiOzJX1PExPUeSt3pciQr+9oVBiBLexiZwk0SEupEYwImWj0xpj6zfAbdopoBd/1ouyg6tTBeQnul/lexyNk2pw69SiNMA9wrMtS9e/xvnsynSO9/F7OCozcu/AwgSZDjdVbMEiR0WFnhgv14TEaYsmYY84yChwvMjIFzgWgUD0yURdWDpz2RDNlAeoPVL2LdLq88hb5ZzQaJ9BR7oQkH3uVaEf3T5rR4p8y3Is=
  file: /*.zip
  skip_cleanup: true
  on:
    tags: true
